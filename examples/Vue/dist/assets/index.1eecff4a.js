import{i as e,r as t,c as l,u as o,o as s,a as c,b as i,t as a,w as r,v as n,d as u,n as d,e as m,f as p,F as f,g as h,h as g,j as v,k as y,l as k,p as b,m as w,q as I}from"./vendor.8519779c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const C={class:"view"},R=["checked"],L={props:{item:Object},setup(f){const h=f,g=e("state"),v=e("updateItem"),y=e("deleteItem"),k=e("checkItem");let b=t(!1);const w=t(null);let I="";const L=l((()=>"active"===g.currentRoute&&!h.item.completed||"completed"===g.currentRoute&&h.item.completed||"active"!==g.currentRoute&&"completed"!==g.currentRoute)),N=()=>{v(),b.value=!1};return(e,t)=>o(L)?(s(),c("li",{key:0,class:d({completed:f.item.completed,editing:o(b)})},[i("div",C,[i("input",{class:"toggle",type:"checkbox",onClick:t[0]||(t[0]=e=>o(k)(f.item.id)),checked:f.item.completed},null,8,R),i("label",{onDblclick:t[1]||(t[1]=e=>(async e=>{I=e.title,b.value=!0,await p(),w.value.focus()})(f.item))},a(f.item.title),33),i("button",{class:"destroy",onClick:t[2]||(t[2]=e=>o(y)(f.item.id))})]),r(i("input",{class:"edit",ref:(e,t)=>{t.inputEdit=e,w.value=e},onBlur:t[3]||(t[3]=e=>N()),onKeyup:[t[4]||(t[4]=u((e=>(f.item.title=I,void(b.value=!1))),["esc"])),t[5]||(t[5]=u((e=>N()),["enter"]))],"onUpdate:modelValue":t[6]||(t[6]=e=>f.item.title=e)},null,544),[[n,f.item.title]])],2)):m("",!0)}},N=i("input",{id:"toggle-all",class:"toggle-all",type:"checkbox"},null,-1),A={class:"todo-list"},E={setup(t){const l=e("state"),a=e("toggleAll");return(e,t)=>(s(),c(f,null,[N,i("label",{onClick:t[0]||(t[0]=e=>o(a)()),for:"toggle-all"},"Mark all as complete"),i("ul",A,[(s(!0),c(f,null,h(o(l).items,(e=>(s(),g(L,{key:e.id,item:e},null,8,["item"])))),128))])],64))}},S={class:"footer"},K={class:"todo-count"},M=v(" item left"),O={class:"filters"},j={setup(t){const l=e("state"),r=e("itemsLeft"),n=e("clearCompleted");return(e,t)=>(s(),c("footer",S,[i("span",K,[i("strong",null,a(o(r)),1),M]),i("ul",O,[i("li",null,[i("a",{class:d({selected:"active"!==o(l).currentRoute&&"completed"!==o(l).currentRoute}),href:"#/"},"All",2)]),i("li",null,[i("a",{class:d({selected:"active"===o(l).currentRoute}),href:"#/active"},"Active",2)]),i("li",null,[i("a",{class:d({selected:"completed"===o(l).currentRoute}),href:"#/completed"},"Completed",2)])]),o(l).items.some((e=>e.completed))?(s(),c("button",{key:0,class:"clear-completed",onClick:t[0]||(t[0]=(...e)=>o(n)&&o(n)(...e))},"Clear completed")):m("",!0)]))}},V=["onKeyup"],q={setup(l){let i=t("");const a=e("addItem"),d=()=>{const e=i.value.trim();if(!e)return;a({title:e,checked:!1}),i.value=""};return(e,t)=>r((s(),c("input",{class:"new-todo","onUpdate:modelValue":t[0]||(t[0]=e=>y(i)?i.value=e:i=e),onKeyup:u(d,["enter"]),placeholder:"What needs to be done?",autofocus:""},null,40,V)),[[n,o(i)]])}},x={},D={class:"info"},J=[i("p",null,"Double-click to edit a todo",-1),i("p",null,[v("Created by "),i("a",{href:"https://github.com/mits-gossau"},"Mits Gossau")],-1),i("p",null,[v("Part of "),i("a",{href:"#"},"TodoMVC")],-1)];x.render=function(e,t){return s(),c("footer",D,J)};const P={class:"todoapp"},U={class:"header"},B=i("h1",null,"todos",-1),F={class:"main"};I({setup(e){let t=k({items:JSON.parse(localStorage.getItem("todos")||"[]").sort(((e,t)=>Number(e.id))),currentRoute:window.location.hash.slice(2)});const o=l((()=>t.items.filter((e=>!e.completed)).length)),a=()=>{localStorage.setItem("todos",JSON.stringify(t.items))};return b("state",t),b("itemsLeft",o),b("updateItem",(e=>{a()})),b("deleteItem",(e=>{t.items=t.items.filter((t=>t.id!==e)),a()})),b("addItem",(e=>{t.items.push(e),t.items.forEach(((e,t)=>e.id=t)),a()})),b("checkItem",(e=>{t.items.forEach((t=>{t.id===e&&(t.completed=!t.completed)})),a()})),b("toggleAll",(()=>{t.items.every((e=>e.completed))?t.items.map((e=>e.completed=!1)):t.items.map((e=>e.completed=!0)),a()})),b("clearCompleted",(()=>{t.items=t.items.filter((e=>!e.completed)),a()})),window.addEventListener("hashchange",(()=>{t.currentRoute=window.location.hash.slice(2)})),(e,t)=>(s(),c(f,null,[i("section",P,[i("header",U,[B,w(q)]),i("section",F,[w(E)]),w(j)]),w(x)],64))}}).mount("#app");
